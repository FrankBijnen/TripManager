<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Windows version 5.9.14">
  <title>Subclass</title>
  <meta name="generator" content="HelpMaker.net">
  <meta name="keywords" content="SubClass field,">
  <style type="text/css">
  body {
  background-color: #FFFFFF;
  }
  a.c29 {color: #0000FF; font-family: Calibri; font-size: 120%}
  span.c28 {font-size: 15pt; text-decoration: underline}
  span.c27 {color: #010101; font-family: Courier New; font-size: 12pt}
  span.c26 {color: #365F91; font-family: Calibri; font-size: 120%; font-weight: bold}
  span.c25 {font-size:15pt;background:#ffffff}
  span.c24 {font-size:15pt;background:#ff0000}
  span.c23 {font-size:15pt;background:#ff00ff}
  span.c22 {font-size:15pt;background:#00ffff}
  span.c21 {font-size:15pt;background:#00ff00}
  span.c20 {font-size:15pt;background:#ffff00}
  span.c19 {font-size:15pt}
  span.c18 {color: #010101; font-family: Calibri; font-size: 120%; text-decoration: underline}
  span.c17 {color: #010101}
  br.c16 {page-break-before:always}
  span.c15 {font-family: Symbol; font-size: 120%}
  div.c14 {margin-left:6mm; margin-right:0mm; text-indent:-6mm;}
  span.c13 {color: #010101; font-family: Symbol; font-size: 120%}
  span.c12 {color: #010101; font-family: Symbol; font-size: 12pt}
  table.c11 {border-collapse: collapse; border: none}
  td.c10 {border: solid #010101 1px;}
  span.c9 {color: #010101; font-family: Calibri; font-size: 120%}
  span.c8 {color: #010101; font-family: Calibri; font-size: 120%; font-weight: bold}
  div.c7 {margin-left:13mm; margin-right:0mm; text-indent:-6mm;}
  span.c6 {font-family: Arial; font-size: 12pt}
  span.c5 {font-family: Calibri; font-size: 120%}
  table.c4 {background-color: #FFFFFF}
  span.c3 {color: #0000FF; font-family: Calibri; font-size: 150%; font-weight: bold}
  td.c2 {font-weight: bold}
  span.c1 {font-family: Calibri; font-size: 150%}
  </style>
</head>
<body>
  <table class="c4" width="100%" border="0" cellspacing="0"
  cellpadding="2">
    <tr>
      <td class="c2" align="left"><span class="c1"><a href=
      "tripfile.html">Previous</a>&nbsp;<a href=
      "toc.html">Top</a>&nbsp;<a href=
      "poifilesgpi.html">Next</a></span></td>
      <td align="center" width="75%">
        <div align="center">
          <span class="c3">SubClass field</span>
        </div>
      </td>
    </tr>
  </table>
  <hr>
  <div align="left">
    <span class="c5">This document describes the format of the
    SubClass element in Garmin GPX files. But it can also be found
    in trip files in field <b>mUdbDataHndl.</b></span>
  </div>
  <div align="left">
    <span class="c5">Data that can found in the subclass
    field.</span>
  </div>
  <div align="left" class="c7">
    <span class=
    "c6">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
    "c5">MapSegment</span>
  </div>
  <div align="left" class="c7">
    <span class=
    "c6">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
    "c5">RoadId</span>
  </div>
  <div align="left" class="c7">
    <span class=
    "c6">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
    "c5">Begin/Shaping point/Via point</span>
  </div>
  <div align="left" class="c7">
    <span class=
    "c6">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
    "c5">Lat/Lon values</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c8">Terminology:</span>
  </div>
  <table border="1" width="816" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="321" class="c10">
        <div align="left">
          <span class="c9">BaseCamp</span>
        </div>
      </td>
      <td valign="top" width="207" class="c10">
        <div align="left">
          <span class="c9">GPX file (XML Format)</span>
        </div>
      </td>
      <td valign="top" width="243" class="c10">
        <div align="left">
          <span class="c9">Zumo XT(2)</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="321" class="c10"></td>
      <td valign="top" width="207" class="c10"></td>
      <td valign="top" width="243" class="c10"></td>
    </tr>
    <tr>
      <td valign="top" width="321" class="c10">
        <div align="left">
          <span class="c9">Route</span>
        </div>
      </td>
      <td valign="top" width="207" class="c10">
        <div align="left">
          <span class="c9">&lt;RTE&gt;</span>
        </div>
      </td>
      <td valign="top" width="243" class="c10">
        <div align="left">
          <span class="c9">Trip</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="321" class="c10">
        <div align="left">
          <span class="c9">Via Point</span>
        </div>
      </td>
      <td valign="top" width="207" class="c10">
        <div align="left">
          <span class="c9">&lt;RTEPT&gt;</span>
        </div>
      </td>
      <td valign="top" width="243" class="c10"></td>
    </tr>
  </table>
  <table border="1" width="816" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="801" class="c10">
        <div align="left">
          <span class="c9">Via Points, or &lt;RTEPT&gt; can be
          either:</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="816" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="321" class="c10">
        <div align="left">
          <span class="c12">·&nbsp;&nbsp;&nbsp;</span><span class=
          "c9">Via point (Alert on arrival)</span>
        </div>
      </td>
      <td valign="top" width="207" class="c10">
        <div align="left">
          <span class="c12">·&nbsp;&nbsp;&nbsp;</span><span class=
          "c9">&lt;trp:ViaPoint</span>
        </div>
      </td>
      <td valign="top" width="243" class="c10">
        <div align="left">
          <span class="c9">Will alert, don’t skip, can be chosen as
          destination when starting trip.</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="321" class="c10">
        <div align="left">
          <span class="c12">·&nbsp;&nbsp;&nbsp;</span><span class=
          "c9">Via point (Don’t alert on arrival)</span>
        </div>
      </td>
      <td valign="top" width="207" class="c10">
        <div align="left">
          <span class="c12">·&nbsp;&nbsp;&nbsp;</span><span class=
          "c9">&lt;trp:ShapingPoint</span>
        </div>
      </td>
      <td valign="top" width="243" class="c10">
        <div align="left">
          <span class="c9">Will not alert, can be skipped, can not
          be chosen when starting trip.</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="816" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="801" class="c10">
        <div align="left">
          <span class="c9">Ghost Points</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="816" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="321" class="c10">
        <div align="left">
          <span class="c12">·&nbsp;&nbsp;&nbsp;</span><span class=
          "c9">N/A</span>
        </div>
      </td>
      <td valign="top" width="207" class="c10">
        <div align="left">
          <span class="c12">·&nbsp;&nbsp;&nbsp;</span><span class=
          "c9">&lt;gpxx:rpt</span>
        </div>
      </td>
      <td valign="top" width="243" class="c10">
        <div align="left">
          <span class="c9">N/A</span>
        </div>
        <div align="left">
          <span class="c9">Are added by BaseCamp/MapSource when a
          route is calculated. Points are located on a Road, and
          have road information. Can be used as a basis for
          creating track.</span>
        </div>
      </td>
    </tr>
  </table>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c8">Objective:</span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Some problems found with the Zumo XT(2) are, or at least
    seem to be, related to the SubClass.</span>
  </div>
  <div align="left" class="c7">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Shaping points get renamed when importing.</span>
  </div>
  <div align="left" class="c7">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">The routing works different for Shaping points and Via. It
    should be the same.</span>
  </div>
  <div align="left" class="c7">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">CEP. (Closest Entry Point). When starting a route with
    CEP, sometimes Shaping points are ignored. Via Points seem to
    work more predictable.</span>
  </div>
  <div align="left" class="c7">
    <span class="c15">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Knowing what info this SubClass contains, might help
    resolve them.<br clear="all" class="c16">
    <br></span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">This info was collected by ‘reverse engineering’. It is
    not 100% complete, and may not be correct in all cases. Sources
    of info, tools used:</span>
  </div>
  <div align="left" class="c7">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">GPSBabel</span>
  </div>
  <div align="left" class="c7">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">GPSMapedit</span>
  </div>
  <div align="left" class="c7">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">JaVaWa GMTK</span>
  </div>
  <div align="left" class="c7">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">TypViewer</span>
  </div>
  <div align="left" class="c7">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">https://www.memotech.franken.de/FileFormats/Garmin_GPI_Format.pdf
    (Lat/Lon conversion)</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class="c9">A
    special value exists ’000000000000FFFFFFFFFFFFFFFFFFFFFFFF’.
    Once this is assigned it is never changed. I call it ‘Empty’,
    others suggest it is ‘Direct Routing’. This can be accomplished
    by exporting a route, modifying the subclass with an XML
    editor, and importing it back in Basecamp. Or by importing a
    GPX file created by another app like MyRoute App, Kurviger,
    Calimoto etc..</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">The Subclass is assigned when adding (inserting) a Via
    Point in Basecamp. Once assigned it is not always changed, even
    when it would be expected. (See Additional tests
    performed)</span><span class="c17"><br clear="all" class=
    "c16"></span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c8">Additional tests performed:</span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Create a route with start, end, and 1 shaping point.
    Export gpx. Move the 2nd shaping point. Export gpx. Compare
    shows the same subclass!</span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Change Map product from City Navigator to Open Street Map
    or vice versa. Recalculate route. Subclass changes. Sometimes
    to ‘Empty’.</span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Change an initial Shaping point to Via. Subclass remains
    the same.</span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Change an initial Via point to Shaping. Subclass
    changes!</span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Moving a Shaping point to another location, Subclass
    remains the same.</span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">Moving an initial Via point. Subclass remains the same.
    Then change to shaping, subclass changes.</span>
  </div>
  <div align="left" class="c14">
    <span class="c13">·&nbsp;&nbsp;&nbsp;</span><span class=
    "c9">When importing a GPX file without SubClasses in Basecamp,
    and subsequently exporting it then the SubClass is reset to
    ‘Empty’. An example of this is MyRoute App. MyRoute App has no
    knowledge of subclass. When importing a route exported from MRA
    all the subclasses are reset to ‘Empty’.</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9">The results from these tests show that
    Basecamp does not always update the Subclass, although it would
    be expected. Furthermore the ‘Empty’ value gets assigned in
    some scenario’s, and does not seem to have a negative effect.
    Not in Basecamp nor in the XT.</span>
  </div>
  <div align="left">
    <br>
  </div><span class="c17"><br clear="all" class="c16"></span>
  <div align="left">
    <span class="c17"><br></span>
  </div>
  <div align="left">
    <span class="c8">Layout:</span>
  </div>
  <div align="left">
    <span class="c9">Because no documentation is available
    containing the layout, and I lack inspiration, I named the
    fields 1 to 9.</span>
  </div>
  <div align="left">
    <span class="c9">(TBD = To Be Defined)</span>
  </div>
  <div align="left">
    <br>
  </div>
  <table border="1" width="792" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 1</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">2 Bytes</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Can refer to a ‘line/road’, or a
          ‘point’. See the road and point types. Screen shot from
          GPSMAPEDIT.</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 2</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">4 Bytes</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">An integer specifying the map segment
          nbr.</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 3</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">4 Bytes</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">This field is most likely a unique id of
          the road segment. Placing points along the same road this
          nbr. remains the same. But when passing a junction for
          example this nbr. changes.</span>
        </div>
        <div align="left">
          <span class="c9">There are clues that the last 2 bytes
          are flags. See RoadId Flags</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 4</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">1 Byte</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Looks like a type field. Values
          found:</span>
        </div>
        <div align="left">
          <span class="c9">0F = Begin</span>
        </div>
        <div align="left">
          <span class="c9">0D = Shaping point</span>
        </div>
        <div align="left">
          <span class="c9">01 = Via Point</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="792" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="777" class="c10">
        <div align="left">
          <span class="c9">Following fields are only valid for
          Shaping Points. See the explanation in the sample.</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="792" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 5</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">1 Byte</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Lat Byte 0</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 6</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">1 Byte</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Lon Byte 0</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 7</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">1 Byte</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Reserved = 00</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 8</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">2 Bytes</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Lat Bytes 1 & 2</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 9</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">2 Bytes</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Lon Bytes 1 & 2</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="792" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="777" class="c10">
        <div align="left">
          <span class="c9">For Via Points</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="792" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 5-9</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">7 Bytes</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">TBD</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="792" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="777" class="c10">
        <div align="left">
          <span class="c9">For Ghost Points &lt;gpxx:rpt</span>
        </div>
      </td>
    </tr>
  </table>
  <table border="1" width="792" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 4</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">1 Byte</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Looks like a type field. Values
          found:</span>
        </div>
        <div align="left">
          <span class="c9">21 = Begin, or End of a segment.
          (Segment between Route points)</span>
        </div>
        <div align="left">
          <span class="c9">1F = Intermediate</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 5</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">1 Byte</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Direction indicator. See Direction
          values</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 6</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">1 Byte</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">TBD</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 7</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">1 Byte</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">Reserved = 00</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 8</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">2 Bytes</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">TBD</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="93" class="c10">
        <div align="left">
          <span class="c9">Field 9</span>
        </div>
      </td>
      <td valign="top" width="75" class="c10">
        <div align="left">
          <span class="c9">2 Bytes</span>
        </div>
      </td>
      <td valign="top" width="579" class="c10">
        <div align="left">
          <span class="c9">TBD</span>
        </div>
      </td>
    </tr>
  </table>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9">Integers have to be read ‘backwards’. Little
    Endian.</span><span class="c17"><br clear="all" class=
    "c16"></span>
  </div>
  <div align="left">
    <span class="c18">Sample RtePt:&nbsp;&nbsp;</span>
  </div>
  <div align="left">
    <span class="c9">&lt;rtept lat="51.600542971864343"
    lon="5.660406164824963"&gt;</span>
  </div>
  <div align="left">
    <span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;time&gt;2022-10-09T17:45:21Z&lt;/time&gt;</span>
  </div>
  <div align="left">
    <span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;name&gt;Erpseweg1&lt;/name&gt;</span>
  </div>
  <div align="left">
    <span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;sym&gt;Waypoint&lt;/sym&gt;</span>
  </div>
  <div align="left">
    <span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;extensions&gt;</span>
  </div>
  <div align="left">
    <span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;trp:ShapingPoint /&gt;</span>
  </div>
  <div align="left">
    <span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;gpxx:RoutePointExtension&gt;</span>
  </div>
  <div align="left">
    <span class=
    "c9">&lt;gpxx:Subclass&gt;040089969800050026010D24040097B17206&lt;/gpxx:Subclass&gt;</span>
  </div>
  <div align="left">
    <span class="c9">&lt;!-- Note that the empty Subclass does not
    conflict with the fields found! - -&gt;</span>
  </div>
  <div align="left">
    <span class=
    "c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    0000 00000000 FFFFFFFF FF FFFFFFFFFFFFFF</span>
  </div>
  <div align="left">
    <span class="c9"><span class=
    "c19">&lt;gpxx:Subclass&gt;</span><span class="c20">0400</span>
    <span class="c21">89969800</span> <span class=
    "c22">05002601</span> <span class="c23">0D</span> <span class=
    "c24">24040097B17206</span><span class=
    "c25">&lt;/gpxx:Subclass&gt;</span></span>
  </div>
  <div align="left">
    <span class="c9">&lt;!—</span>
  </div>
  <div align="left">
    <span class="c8">Field 1 (Little Endian)</span>
  </div>
  <div align="left">
    <span class="c9"><span class="c20">00 04</span><span class=
    "c25">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    = Road type, or Point Type. ‘polyline arterial road’ (See Road
    types)</span></span>
  </div>
  <div align="left">
    <span class="c8">Field 2 (Little Endian)</span>
  </div>
  <div align="left">
    <span class="c9"><span class="c21">00 98 96 89</span>
    <span class="c25">= 10000009&nbsp; = Map Segment. (Sample is
    not City Navigator, but Open Street Map)</span></span>
  </div>
  <div align="left">
    <span class="c8">Field 3 (Little or Big Endian?)</span>
  </div>
  <div align="left">
    <span class="c9"><span class="c22">05002601</span><span class=
    "c25">&nbsp;&nbsp; = Unknown, probably road id for shaping
    point</span></span>
  </div>
  <div align="left">
    <span class=
    "c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    The values remain the same for each road segment. (Between
    junctions)</span>
  </div>
  <div align="left">
    <span class="c8">Field 4</span>
  </div>
  <div align="left">
    <span class="c9"><span class="c23">0D</span><span class=
    "c25">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    = RtePt&nbsp; 0F = Begin, 0D = Shaping point, 01 = Via
    Point</span></span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9">Only valid for Shaping points. These bytes
    contain (part of) the Lat/Lon values of the next &lt;gpxx:rpt
    node, not the Lat/Lon values of the &lt;rtept node.</span>
  </div>
  <div align="left">
    <span class="c8">Fields 5 to 9</span>
  </div>
  <div align="left">
    <span class="c9"><span class="c24">24</span><span class=
    "c25">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    = Lat Byte 0</span></span>
  </div>
  <div align="left">
    <span class="c9"><span class="c24">04</span><span class=
    "c25">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    = Lon Byte 0</span></span>
  </div>
  <div align="left">
    <span class="c9"><span class="c24">00</span><span class=
    "c25">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    = Unknown, probably reserved for RtePt</span></span>
  </div>
  <div align="left">
    <span class="c9"><span class="c24">97B1</span><span class=
    "c25">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = Lat Bytes 1,
    2</span></span>
  </div>
  <div align="left">
    <span class="c9"><span class="c24">7206</span><span class=
    "c25">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = Lon Bytes 1,
    2</span></span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9"><span class="c24">24</span><span class=
    "c25">(1)</span> <span class="c24">04</span><span class=
    "c25">(2) xx</span> <span class="c24">97</span><span class=
    "c25">(3)</span> <span class="c24">B1</span><span class=
    "c25">(4)</span> <span class="c24">72</span><span class=
    "c25">(5)</span> <span class="c24">06</span><span class=
    "c25">(6)</span></span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9">First the ‘real/decimal’ values have to be
    converted to ‘integer’ (4 bytes). Multiply by 2^32 and divide
    by 360</span>
  </div>
  <div align="left">
    <span class="c9"><span class="c19">E.g.: 51,600542971864343 *
    2^32 = 221622644520 / 360 = 615618457 =</span> <span class=
    "c24">24B197</span><span class="c25">99 (hex)</span></span>
  </div>
  <div align="left">
    <span class="c9">Bytes 1,2 and 3 are used like this.</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9"><span class="c24">24</span><span class=
    "c25">(1)</span> <span class="c24">B1</span><span class=
    "c25">(4)</span> <span class="c24">97</span><span class=
    "c25">(3) 99(.) = 615618457 * 360 = 221622644520 / 2^32 =
    51,600542971864343</span></span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9"><span class="c24">04</span><span class=
    "c25">(2)</span> <span class="c24">06</span><span class=
    "c25">(6)</span> <span class="c24">72</span><span class=
    "c25">(5) 07(.) =&nbsp; 67531271 * 360 =&nbsp; 24311257560 /
    2^32 = 5,660405745729804</span></span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9">(.) Not used....</span>
  </div>
  <div align="left">
    <span class="c9">--&gt;</span>
  </div>
  <div align="left">
    <span class=
    "c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;gpxx:rpt lat<b>="51.600542971864343"</b>
    lon<b>="5.660405745729804"&gt;</b></span>
  </div>
  <div align="left">
    <span class=
    "c9">&lt;gpxx:Subclass&gt;040089969800BC3D0000211600009A000E00&lt;/gpxx:Subclass&gt;</span>
  </div>
  <div align="left">
    <span class=
    "c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &lt;/gpxx:rpt&gt;<br clear="all" class="c16">
    <br></span>
  </div>
  <table border="1" width="614" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="599" class="c10">
        <div align="left">
          <span class="c8">Road types</span>
        </div>
        <div align="left"><img src="subclassb1.PNG" width="4"
        height="2" border="0" alt="graphic"><img src=
        "subclassb2.PNG" width="534" height="439" border="0" alt=
        "graphic"></div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="599" class="c10">
        <div align="left">
          <span class="c8">Point Types</span>
        </div>
        <div align="left"><img src="subclassb3.PNG" width="521"
        height="437" border="0" alt="graphic"></div>
      </td>
    </tr>
  </table>
  <div align="left">
    <br>
  </div>
  <table border="1" width="619" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="604" class="c10">
        <div align="left">
          <span class="c8">Map segment nbrs. can be found with
          JaVaWa GMTK. Sorry screenshot only in Dutch.</span>
        </div>
        <div align="left"><img src="subclassb4.PNG" width="600"
        height="482" border="0" alt="graphic"></div>
        <div align="left"></div>
      </td>
    </tr>
  </table>
  <div align="left">
    <br>
    <span class="c17"><br clear="all" class="c16"></span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c26">RoadId flags</span>
  </div>
  <div align="left">
    <span class="c9">Part of source code of MkgMap.</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class=
    "c9">https://www.mkgmap.org.uk/download/mkgmap-r4923-src.zip</span>
  </div>
  <div align="left">
    <span class=
    "c9">mkgmap-r4923\src\uk\me\parabola\imgfmt\app\net\RoadDef.java</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c27">public class RoadDef {</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final Logger log =
    Logger.getLogger(RoadDef.class);</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    public static final int MAX_NUMBER_NODES = 0x3ff;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    public static final int MAX_NUMBER_POLYLINES = 0x7f;</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    public static final int NET_FLAG_NODINFO&nbsp; = 0x40;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    public static final int NET_FLAG_ADDRINFO = 0x10;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int NET_FLAG_UNK1&nbsp;&nbsp;&nbsp;&nbsp;
    = 0x04; // lock on road?</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int NET_FLAG_ONEWAY&nbsp;&nbsp; =
    0x02;</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int
    NOD2_FLAG_UNK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
    0x01;</span>
  </div>
  <div align="left">
    <span class="c27">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private
    static final int NOD2_FLAG_EXTRA_DATA = 0x80; just
    documentation</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
    first byte of Table A info in NOD 1</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int TABA_FLAG_TOLL = 0x80;</span>
  </div>
  <div align="left">
    <span class="c27">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private
    static final int TABA_MASK_CLASS = 0x70; just
    documentation</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int TABA_FLAG_ONEWAY = 0x08;</span>
  </div>
  <div align="left">
    <span class="c27">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private
    static final int TABA_MASK_SPEED = 0x07; just
    documentation</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int TABAACCESS_FLAG_CARPOOL =
    0x0008;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int TABAACCESS_FLAG_NOTHROUGHROUTE =
    0x0080;</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
    second byte: access flags, bits 0x08, 0x80 are set
    separately</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int TABAACCESS_FLAG_NO_EMERGENCY =
    0x8000;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int TABAACCESS_FLAG_NO_DELIVERY&nbsp; =
    0x4000;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int
    TABAACCESS_FLAG_NO_CAR&nbsp;&nbsp;&nbsp;&nbsp; = 0x0001;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int
    TABAACCESS_FLAG_NO_BUS&nbsp;&nbsp;&nbsp;&nbsp; = 0x0002;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int
    TABAACCESS_FLAG_NO_TAXI&nbsp;&nbsp;&nbsp; = 0x0004;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int
    TABAACCESS_FLAG_NO_FOOT&nbsp;&nbsp;&nbsp; = 0x0010;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int
    TABAACCESS_FLAG_NO_BIKE&nbsp;&nbsp;&nbsp; = 0x0020;</span>
  </div>
  <div align="left">
    <span class="c27">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    private static final int TABAACCESS_FLAG_NO_TRUCK&nbsp;&nbsp; =
    0x0040;</span><span class="c17"><br clear="all" class=
    "c16"></span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c26">Direction values</span>
  </div>
  <div align="left">
    <br>
  </div>
  <div align="left">
    <span class="c9">This table is taken initially from:</span>
    <a class="c29" href=
    "https://www.memotech.franken.de/FileFormats/Garmin_MPS_GDB_and_GFI_Format.pdf">
    <span class=
    "c28">https://www.memotech.franken.de/FileFormats/Garmin_MPS_GDB_and_GFI_Format.pdf</span></a>
  </div>
  <div align="left">
    <span class="c9">(Look for Direction icon:)</span>
  </div>
  <div align="left">
    <br>
  </div>
  <table border="1" width="480" cellpadding="7" cellspacing="0"
  class="c11">
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">Direction indicator</span>
        </div>
        <div align="left">
          <span class="c9">(Decimal)</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Description</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">0</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Continue</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">2, 15, 18</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Right</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">3</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Sharp Right</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">4</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">U-Turn</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">5</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Sharp Left</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">6, 16, 19</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Left</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">8, 11, 13, 17, 20, 21</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Ahead</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">10</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Turn Right</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">12</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Ferry</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">14</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Roundabout</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">22</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Leave route point</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">23</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Approach route point</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">24</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Turn Left</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">25</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Turn Right</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">29, 34, 35, 36</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Route point</span>
        </div>
      </td>
    </tr>
    <tr>
      <td valign="top" width="171" class="c10">
        <div align="left">
          <span class="c9">79</span>
        </div>
      </td>
      <td valign="top" width="279" class="c10">
        <div align="left">
          <span class="c9">Exit Roundabout</span>
        </div>
      </td>
    </tr>
  </table>
  <div align="left"></div>
</body>
</html>
